services:
  app:
    build: .
    network_mode: host
    cap_add:
      - NET_RAW
      - NET_ADMIN
    volumes:
      - ./devices.json:/app/devices.json
      # Optional: mount a custom config file
      # - ./config.toml:/app/config.toml
    environment:
      # Server configuration
      - JUMPERS_SERVER_PORT=3000
      # - JUMPERS_SERVER_LOG_LEVEL=info,tower_http=debug
      # Storage configuration
      # - JUMPERS_STORAGE_FILE_PATH=/app/devices.json
      # Wake-on-LAN configuration
      # - JUMPERS_WOL_DEFAULT_PORT=9
      # Custom config file path (optional)
      # - JUMPERS_CONFIG=/app/config.toml
    restart: unless-stopped
